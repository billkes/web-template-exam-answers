{
	"bsonType": "object",
	"required": ["exams_id", "title", "type", "options", "answer", "difficulty"],
	"permission": {
		"read": true,
		"create": true,
		"update": true,
		"delete": true
	},
	"properties": {
		"_id": {
			"description": "存储文档 ID，系统自动生成"
		},
		"exams_id": {
			"bsonType": "string",
			"title": "试卷",
			"description": "请选择试卷",
			"label": "试卷",
			"foreignKey": "exams._id",
			"componentForEdit": {
				"name": "uni-data-select",
				"props": {
					"placeholder": "请选择试卷",
					"collection": "exams",
					"field": "title as text, _id as value"
				}
			},
			"componentForShow": {
				"name": "text",
				"props": {
					"v-text": "item.exams_id?.title || '-'"
				}
			}
		},
		"title": {
			"bsonType": "string",
			"title": "题目标题",
			"description": "请输入题目标题",
			"label": "题目标题"
		},
		"type": {
			"bsonType": "string",
			"title": "题目类型",
			"label": "题目类型",
			"enum": [{
					"value": "single",
					"text": "单选题"
				},
				{
					"value": "multiple",
					"text": "多选题"
				}
			],
			"componentForEdit": {
				"name": "uni-data-select",
				"props": {
					"placeholder": "请选择题目类型"
				}
			},
			"componentForShow": {
				"name": "text",
				"props": {
					"v-text": "options.filterData.type_localdata?.find(o=>o.value===item?.type)?.text || '-'"
				}
			}
		},
		"options": {
			"bsonType": "array",
			"title": "选项",
			"description": "题目选项（选择题使用）",
			"label": "选项",
			"arrayType": "string",
			"componentForEdit": {
				"name": "billkes-form-question-options"
			},
			"componentForShow": {
				"name": "billkes-table-question-options"
			}
		},
		"difficulty": {
			"bsonType": "int",
			"title": "难度",
			"description": "题目难度：1-简单，2-中等，3-困难",
			"label": "难度",
			"minimum": 1,
			"maximum": 3,
			"enum": [{
					"value": 1,
					"text": "简单"
				},
				{
					"value": 2,
					"text": "中等"
				},
				{
					"value": 3,
					"text": "困难"
				}
			],
			"componentForEdit": {
				"name": "uni-data-select",
				"props": {
					"placeholder": "请选择题目难度"
				}
			},
			"componentForShow": {
				"name": "text",
				"props": {
					"v-text": "options.filterData.difficulty_localdata?.find(o=>o.value===item?.difficulty)?.text || '-'"
				}
			}
		},
		"answer": {
			"bsonType": "array",
			"arrayType": "int",
			"title": "答案",
			"description": "题目答案",
			"label": "答案",
			"enum": [{
					"value": 0,
					"text": "A"
				},
				{
					"value": 1,
					"text": "B"
				},
				{
					"value": 2,
					"text": "C"
				},
				{
					"value": 3,
					"text": "D"
				},
				{
					"value": 4,
					"text": "E"
				},
				{
					"value": 5,
					"text": "F"
				},
				{
					"value": 6,
					"text": "G"
				}
			],
			"componentForEdit": {
				"name": "uni-data-select",
				"props": {
					"placeholder": "请选择题目答案"
				}
			},
			"componentForShow": {
				"name": "text",
				"props": {
					"v-text": "Array.isArray(item?.answer) ? item.answer.map(a=>options.filterData.answer_localdata?.find(o=>o.value===a)?.text || '-').join(',')  : '-'"
				}
			}
		},
		"analysis": {
			"bsonType": "string",
			"title": "解析",
			"description": "请输入题目解析",
			"label": "解析",
			"componentForEdit": {
				"name": "uni-easyinput",
				"props": {
					"type": "textarea"
				}
			}
		},
		"created_date": {
			"bsonType": "timestamp",
			"title": "创建时间",
			"description": "创建时间",
			"label": "创建时间",
			"forceDefaultValue": {
				"$env": "now"
			},
			"componentForShow": {
				"name": "uni-dateformat",
				"props": {
					"format": "yyyy-MM-dd hh:mm:ss"
				}
			}
		},
		"updated_date": {
			"bsonType": "timestamp",
			"title": "更新时间",
			"description": "更新时间",
			"label": "更新时间",
			"forceDefaultValue": {
				"$env": "now"
			},
			"componentForShow": {
				"name": "uni-dateformat",
				"props": {
					"format": "yyyy-MM-dd hh:mm:ss"
				}
			}
		}
	}
}